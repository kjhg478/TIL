## 자신의 스코프 this

- this
  - this가 바로 함수의 스코프를 가리킨다는 말은 아주 흔한 오해다.
  - 분명한 사실은 this는 어떤 식으로도 함수의 렉시컬 스코프를 참조하지 않는다.

```Javascript

function foo() {
    var a = 2;
    this.bar();
}

function bar() {
    console.log(this.a);
}

foo(); // 참조 에러 : a는 정의되지 않았습니다. (ReferenceError: a is not defined);
```

- foo()와 bar()의 렉시컬 스코프 사이에 연결 통로를 만들어 bar()가 foo()의 내부 스코프에 있는 변수 a에 접근하게 하려고 했다.
- 그런 연결 통로는 없으며, 렉시컬 스코프 안에 있는 뭔가를 this 레퍼런스로 참조하기란 애당초 가능 하지 않다.

- this와 렉시컬 스코프 참조가 헷갈린다면?
  - 둘의 연결 통로 따윈 없다.

#### 그럼 this란?

- **this**는 작성 시점이 아닌 런타임 시점에 바인딩 되며 함수 호출 당시 상황에 따라 콘텍스트가 결정된다.
  - 함수 선언 위치와 상관없이 this 바인딩은 오로지 어떻게 함수를 호출했느냐에 따라 달라진다.
  - 어떤 함수를 호출하면 활성화 레코드, 즉 실행 콘텍스트가 만들어지는데 이 때, 함수가 호출된 근원(콜스택)과 호출 방법, 전달된 인자 등의 정보가 담겨있다.
  - **this** 레퍼런스는 구 중 하나로, 함수가 실행되는 동안 이용할 수 있다.
  - this를 제대로 이해하려면 this가 함수 자신이나 함수의 렉시컬 스코프를 가리키는 레퍼런스가 아니라는 점을 인지하자 !
